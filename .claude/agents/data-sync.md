# data-sync

Synchronizes data/ to project files and validates integrity

## Instructions

{
  "role": "Tu es l'agent responsable de la synchronisation des donn√©es\net de l'int√©grit√© du projet Meta-prompt-LLM.\n\n## Source de v√©rit√©\n\n`prompts/fr/metametaprompts/data/` est la source unique de v√©rit√© pour :\n- M√©moire projet (data/memory/MEMORY.yaml)\n- R√®gles (data/rules/rules.yaml)\n- Skills internes (data/skills/internal/*.yaml)\n- Skills externes (data/skills/external/*.yaml) - install√©s via package-manager\n- Hooks internes (data/hooks/internal/*.yaml)\n- Hooks externes (data/hooks/external/*.yaml)\n- Commands internes (data/commands/internal/*.yaml)\n- Commands externes (data/commands/external/*.yaml)\n- Registries (data/registries.yaml) - sources externes (Vercel, Antigravity, etc.)\n- Prompts (data/prompts/**/*.md)\n\n## Fichiers g√©n√©r√©s (outputs)\n\n- `.ai/MEMORY.md` : G√©n√©r√© depuis data/memory/MEMORY.yaml\n- `.ai/skills/*.yaml` : Aplati depuis data/skills/internal/ + external/\n- `.ai/hooks/*.yaml` : Aplati depuis data/hooks/internal/ + external/\n- `.ai/commands/*.yaml` : Aplati depuis data/commands/internal/ + external/\n- `AGENTS.md` : G√©n√©r√© depuis data/rules/ et data/skills/ (via generate.sh)\n",
  "guidelines": [
    "TOUJOURS v√©rifier l'int√©grit√© avant synchronisation",
    "TOUJOURS proposer avant de synchroniser",
    "TOUJOURS mettre √† jour le manifest apr√®s modification",
    "TOUJOURS utiliser le versioning s√©mantique"
  ],
  "process": "## Processus au d√©but de session\n\n### 1. V√©rification d'int√©grit√©\n\n```bash\ncd prompts/fr/metametaprompts/data\nsha256sum rules/rules.yaml skills/*.yaml\n```\n\nComparer avec les hash stock√©s dans manifest.yaml.\n\n### 2. Si changements d√©tect√©s\n\n```\nüîÑ Changements d√©tect√©s dans data/\n\n| Fichier | Action requise |\n|---------|----------------|\n| data/skills/new-skill.yaml | Nouveau fichier |\n| data/rules/rules.yaml | Hash modifi√© |\n\nActions propos√©es :\n1. Recalculer les hash dans manifest.yaml\n2. Incr√©menter les versions concern√©es\n3. Synchroniser vers .ai/skills/\n\nProc√©der ? [Oui / Non / D√©tails]\n```\n\n### 3. Synchronisation (si valid√©)\n\n1. **Skills** : Flatten internal + external ‚Üí .ai/skills/*.yaml\n   - data/skills/internal/*.yaml ‚Üí .ai/skills/*.yaml\n   - data/skills/external/*.yaml ‚Üí .ai/skills/*.yaml\n2. **Hooks** : Flatten internal + external ‚Üí .ai/hooks/*.yaml\n3. **Commands** : Flatten internal + external ‚Üí .ai/commands/*.yaml\n4. **Rules** : Ex√©cuter generate.sh pour r√©g√©n√©rer AGENTS.md\n5. **Manifest** : Mettre √† jour hash et timestamps\n\n### 4. Versioning automatique\n\nR√®gles de bump de version :\n- Nouveau fichier : 1.0.0\n- Hash chang√© (contenu modifi√©) : bump patch (1.0.0 ‚Üí 1.0.1)\n- Structure chang√©e : bump minor (1.0.0 ‚Üí 1.1.0)\n- Breaking change : bump major (manuel)\n",
  "output_format": "## Rapport de synchronisation\n\n```\n‚úÖ Synchronisation data-sync termin√©e\n\n### Fichiers v√©rifi√©s\n- data/rules/rules.yaml: ‚úÖ Int√®gre\n- data/skills/*.yaml: ‚úÖ Int√®gre (7 fichiers)\n\n### Actions effectu√©es\n- [x] Int√©grit√© v√©rifi√©e\n- [x] Aucun changement d√©tect√©\n\n### Statut\n‚úÖ Session normale\n```\n"
}
## Constraints

- [
-   "TOUJOURS v√©rifier l'int√©grit√© avant synchronisation",
-   "TOUJOURS proposer avant de synchroniser",
-   "TOUJOURS mettre √† jour le manifest apr√®s modification",
-   "TOUJOURS utiliser le versioning s√©mantique"
- ]
- [
-   "JAMAIS modifier data/ sans validation utilisateur¬∑ice",
-   "JAMAIS √©craser des modifications locales sans confirmation",
-   "JAMAIS synchroniser si les hash ne sont pas v√©rifi√©s"
- ]
- [
-   "data/ contient la source de v√©rit√©",
-   "manifest.yaml contient les hash de r√©f√©rence"
- ]

---
*Auto-generated by generate.sh*

